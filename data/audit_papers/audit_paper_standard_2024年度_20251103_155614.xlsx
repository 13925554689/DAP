# DAP - æ•°æ®å¤„ç†å®¡è®¡æ™ºèƒ½ä½“

> **Data Processing & Auditing Intelligence Agent**
> 
> AIæ™ºæ…§å®¡è®¡å¤§è„‘çš„æ ¸å¿ƒæ•°æ®å¤„ç†å¼•æ“

## ğŸ¯ é¡¹ç›®ç®€ä»‹

DAPæ˜¯ä¸€ä¸ªä¸“ä¸ºå®¡è®¡é¢†åŸŸè®¾è®¡çš„ä¸‰å±‚æ™ºèƒ½æ•°æ®å¤„ç†ç³»ç»Ÿï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒ–åœ°æ¥æ”¶ã€æ¸…æ´—ã€å­˜å‚¨ã€åˆ†ç±»å¹¶åˆæ­¥åˆ†ææ¥è‡ªå¼‚æ„æ•°æ®æºçš„æ•°æ®ï¼Œä¸ºä¸Šå±‚"AIæ™ºæ…§å®¡è®¡å¤§è„‘"æä¾›é«˜è´¨é‡ã€ç»“æ„åŒ–ã€å¯ç«‹å³ä½¿ç”¨çš„æ•°æ®åŸºç¡€ã€‚

### æ ¸å¿ƒç‰¹è‰²

- **ğŸš€ ä¸€é”®å¯åŠ¨** - æ‹–æ‹½å¯¼å…¥ï¼Œé›¶é…ç½®å¤„ç†
- **ğŸ§  æ™ºèƒ½å†…ç½®** - è‡ªåŠ¨è¯†åˆ«ã€æ¨æ–­ã€æ¸…æ´—ã€åˆ†ç±»
- **ğŸ¯ å®¡è®¡å¯¼å‘** - ä¸“ä¸ºå®¡è®¡éœ€æ±‚ä¼˜åŒ–çš„æ‰€æœ‰é€»è¾‘
- **ğŸ“Š ç§‘å­¦å­˜å‚¨** - SQLite+è§†å›¾ï¼Œæœ€å°å†…å­˜æœ€å¤§æ•ˆç‡
- **ğŸ”Œ å¼€æ”¾æ¥å£** - RESTful API + AIæ™ºèƒ½ä½“é›†æˆ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    [äº¤äº’å±‚] ä¸€é”®å¯åŠ¨ç•Œé¢                         â”‚
â”‚                  (One-Click Launcher UI)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              [ç¬¬ä¸‰å±‚] å¤–éƒ¨æ™ºèƒ½ä½“æ¥å£ (Level 3)                    â”‚
â”‚               External Agent Interface                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  RESTful API    â”‚  â”‚  Agent Bridge   â”‚  â”‚  Export Engine  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           [ç¬¬äºŒå±‚] æ™ºèƒ½åˆ†ç±»ä¸è§„æ•´å¼•æ“ (Level 2)                   â”‚
â”‚         Intelligent Classification & Arrangement            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Audit Rules     â”‚  â”‚ Dimension       â”‚  â”‚ Output          â”‚ â”‚
â”‚  â”‚ Engine          â”‚  â”‚ Organizer       â”‚  â”‚ Formatter       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         [ç¬¬ä¸€å±‚] é€šç”¨æ•°æ®æ¸…æ´—ä¸å­˜å‚¨ä¸­å¿ƒ (Level 1)                  â”‚
â”‚        Universal Data Cleansing & Storage Hub               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Data Ingestor   â”‚  â”‚ Schema Inferrer â”‚  â”‚ Data Scrubber   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚ Storage Manager â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Windows 10/11 (ä¸»è¦æ”¯æŒå¹³å°)
- 4GB+ å†…å­˜
- 1GB+ ç£ç›˜ç©ºé—´

### å®‰è£…æ­¥éª¤

1. **ä¸‹è½½é¡¹ç›®**
   ```bash
   git clone https://github.com/your-repo/DAP.git
   cd DAP
   ```

2. **è¿è¡Œå®‰è£…è„šæœ¬**
   ```bash
   # Windows
   install.bat
   
   # æ‰‹åŠ¨å®‰è£…
   python -m venv dap_env
   dap_env\Scripts\activate
   pip install -r requirements.txt
   ```

3. **å¯åŠ¨åº”ç”¨**
   ```bash
   # å›¾å½¢ç•Œé¢æ¨¡å¼ï¼ˆæ¨èï¼‰
   start_gui.bat
   
   # APIæœåŠ¡æ¨¡å¼
   start_api.bat
   
   # å‘½ä»¤è¡Œæ¨¡å¼
   start_cli.bat
   ```

### å¿«é€Ÿä½“éªŒ

1. **å¯åŠ¨å›¾å½¢ç•Œé¢**
   - åŒå‡» `start_gui.bat`
   - ç•Œé¢å¯åŠ¨åï¼Œæ‹–æ‹½Excelæ–‡ä»¶åˆ°å¯¼å…¥åŒºåŸŸ
   - ç‚¹å‡»"å¼€å§‹å¤„ç†"æŒ‰é’®
   - ç­‰å¾…å¤„ç†å®Œæˆï¼ŒæŸ¥çœ‹ç»“æœ

2. **APIæœåŠ¡ä½“éªŒ**
   - åŒå‡» `start_api.bat`
   - æµè§ˆå™¨è®¿é—® http://127.0.0.1:8000/docs
   - åœ¨çº¿æµ‹è¯•å„ç§APIæ¥å£

## ğŸ“Š æ”¯æŒçš„æ•°æ®æ ¼å¼

| æ ¼å¼ç±»å‹ | æ–‡ä»¶æ‰©å±•å | æè¿° |
|---------|-----------|------|
| Excelæ–‡ä»¶ | .xlsx, .xls | Microsoft Excelå·¥ä½œç°¿ |
| CSVæ–‡ä»¶ | .csv | é€—å·åˆ†éš”å€¼æ–‡ä»¶ |
| æ•°æ®åº“å¤‡ä»½ | .bak, .sql | SQL Serverå¤‡ä»½æ–‡ä»¶ |
| æ•°æ®åº“æ–‡ä»¶ | .db, .sqlite, .mdb | SQLiteã€Accessæ•°æ®åº“ |
| å‹ç¼©æ–‡ä»¶ | .zip, .rar | åŒ…å«æ•°æ®æ–‡ä»¶çš„å‹ç¼©åŒ… |
| æ–‡ä»¶å¤¹ | - | åŒ…å«å¤šä¸ªæ•°æ®æ–‡ä»¶çš„ç›®å½• |

### è¿è¡Œæ¨¡å¼åˆ‡æ¢

é»˜è®¤ä½¿ç”¨å®Œæ•´æ¨¡å¼ã€‚å¦‚éœ€åˆ‡æ¢åˆ°è½»é‡æ¡©ï¼ˆåœ¨ä¾èµ–ä¸å…¨çš„æƒ…å†µä¸‹ä»èƒ½å¯åŠ¨ï¼‰ï¼Œå¯ä»¥è¿è¡Œä¸‹åˆ—è„šæœ¬ï¼š

```bash
# Windows
scripts\enable_lightweight.bat
start_one_click.bat

# åˆ‡æ¢å›å®Œæ•´æ¨¡å¼
scripts\enable_full_mode.bat
start_one_click.bat
```

è½»é‡æ¨¡å¼ä»…é€‚åˆå¿«é€Ÿä½“éªŒ Excel/CSV ç­‰åŸºç¡€æ“ä½œï¼›è‹¥è¦å¤„ç†å‹ç¼©åŒ…ã€æ•°æ®åº“æˆ–ç”Ÿæˆå®Œæ•´æŠ¥å‘Šï¼Œè¯·ä¿æŒå®Œæ•´æ¨¡å¼ã€‚

## ğŸ”§ ä¸»è¦åŠŸèƒ½

### æ•°æ®å¤„ç†æµç¨‹

1. **æ™ºèƒ½æ¥å…¥** - è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶æ ¼å¼ï¼Œæ”¯æŒå¤šç§æ•°æ®æº
2. **æ¨¡å¼æ¨æ–­** - æ™ºèƒ½æ¨æ–­æ•°æ®ç»“æ„ã€ç±»å‹å’Œå…³ç³»
3. **æ•°æ®æ¸…æ´—** - å»é‡ã€æ ‡å‡†åŒ–ã€å¼‚å¸¸å€¼å¤„ç†
4. **ç§‘å­¦å­˜å‚¨** - SQLiteå¤šç»´è§†å›¾ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
5. **æ™ºèƒ½åˆ†ç±»** - åŸºäºå®¡è®¡è§„åˆ™çš„è‡ªåŠ¨åˆ†ç±»
6. **å¤šç»´ç»„ç»‡** - æ—¶é—´ã€ä¸šåŠ¡ã€åœ°åŸŸã€åŠŸèƒ½ç»´åº¦é‡ç»„
7. **AIåˆ†æ** - é›†æˆå¤–éƒ¨AIæœåŠ¡è¿›è¡Œæ™ºèƒ½åˆ†æ
8. **æŠ¥å‘Šç”Ÿæˆ** - å¤šæ ¼å¼è¾“å‡ºå’Œå®¡è®¡æŠ¥å‘Š

### æ ¸å¿ƒæ¨¡å—

- **Layer 1 - æ•°æ®åŸºç¡€å±‚**
  - æ•°æ®æ¥å…¥å™¨ (Data Ingestor)
  - æ¨¡å¼æ¨æ–­å™¨ (Schema Inferrer) 
  - æ•°æ®æ¸…æ´—å™¨ (Data Scrubber)
  - å­˜å‚¨ç®¡ç†å™¨ (Storage Manager)

- **Layer 2 - æ™ºèƒ½åˆ†ç±»å±‚**
  - å®¡è®¡è§„åˆ™å¼•æ“ (Audit Rules Engine)
  - ç»´åº¦ç»„ç»‡å™¨ (Dimension Organizer)
  - è¾“å‡ºæ ¼å¼åŒ–å™¨ (Output Formatter)

- **Layer 3 - å¤–éƒ¨æ¥å£å±‚**
  - RESTful APIæœåŠ¡å™¨
  - AIæ™ºèƒ½ä½“é€šä¿¡æ¡¥
  - å¤šæ ¼å¼å¯¼å‡ºå¼•æ“

## ğŸ¨ ç”¨æˆ·ç•Œé¢

### å›¾å½¢ç•Œé¢ (GUI)

- **æ•°æ®å¯¼å…¥** - æ‹–æ‹½å¼æ–‡ä»¶å¯¼å…¥ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†
- **ç³»ç»ŸçŠ¶æ€** - å®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œç³»ç»ŸçŠ¶æ€
- **æ•°æ®ç®¡ç†** - æŸ¥çœ‹è¡¨ç»“æ„ã€è§†å›¾åˆ—è¡¨ã€å¯¼å‡ºæ•°æ®
- **AIåˆ†æ** - å†…ç½®AIåˆ†æç•Œé¢ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢

### APIæ¥å£

```python
# è·å–ç³»ç»Ÿä¿¡æ¯
GET /api/info

# æŸ¥çœ‹æ•°æ®è¡¨
GET /api/tables

# è·å–æ•°æ®
GET /api/data/{table_name}

# æ‰§è¡Œåˆ†æ
POST /api/analyze

# å¯¼å‡ºæ•°æ®
POST /api/export

# ç”ŸæˆæŠ¥å‘Š
POST /api/reports/audit
```

## ğŸ“‹ é…ç½®è¯´æ˜

### å®¡è®¡è§„åˆ™é…ç½®

ç¼–è¾‘ `config/audit_rules.yaml` æ–‡ä»¶æ¥è‡ªå®šä¹‰å®¡è®¡è§„åˆ™ï¼š

```yaml
rules:
  - rule_id: 'LARGE_AMOUNT_FLAG'
    type: 'validation'
    description: 'å¤§é¢äº¤æ˜“æ ‡è®°'
    conditions:
      - field_pattern: '*é‡‘é¢*|*amount*'
        operator: 'greater_than'
        value: 100000
    action:
      type: 'add_column'
      column_name: 'large_amount_flag'
      value: true
```

### AIé…ç½®

è®¾ç½®ç¯å¢ƒå˜é‡å¯ç”¨AIåŠŸèƒ½ï¼š

```bash
# OpenAI API
set OPENAI_API_KEY=your_api_key

# æœ¬åœ°LLM (Ollama)
# ç¡®ä¿æœ¬åœ°è¿è¡Œ Ollama æœåŠ¡
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
DAP/
â”œâ”€â”€ dap_launcher.py              # ä¸»å¯åŠ¨ç•Œé¢
â”œâ”€â”€ main_engine.py               # æ ¸å¿ƒå¤„ç†å¼•æ“
â”œâ”€â”€ layer1/                      # ç¬¬ä¸€å±‚ï¼šæ•°æ®åŸºç¡€
â”‚   â”œâ”€â”€ data_ingestor.py
â”‚   â”œâ”€â”€ schema_inferrer.py
â”‚   â”œâ”€â”€ data_scrubber.py
â”‚   â””â”€â”€ storage_manager.py
â”œâ”€â”€ layer2/                      # ç¬¬äºŒå±‚ï¼šæ™ºèƒ½åˆ†ç±»
â”‚   â”œâ”€â”€ audit_rules_engine.py
â”‚   â”œâ”€â”€ dimension_organizer.py
â”‚   â””â”€â”€ output_formatter.py
â”œâ”€â”€ layer3/                      # ç¬¬ä¸‰å±‚ï¼šå¤–éƒ¨æ¥å£
â”‚   â”œâ”€â”€ api_server.py
â”‚   â””â”€â”€ agent_bridge.py
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ audit_rules.yaml
â”œâ”€â”€ data/                        # æ•°æ®ç›®å½•
â”œâ”€â”€ exports/                     # å¯¼å‡ºç›®å½•
â”œâ”€â”€ logs/                        # æ—¥å¿—ç›®å½•
â”œâ”€â”€ requirements.txt             # ä¾èµ–åŒ…
â”œâ”€â”€ install.bat                  # å®‰è£…è„šæœ¬
â”œâ”€â”€ start_gui.bat               # GUIå¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_api.bat               # APIå¯åŠ¨è„šæœ¬
â””â”€â”€ start_cli.bat               # CLIå¯åŠ¨è„šæœ¬
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### å‘½ä»¤è¡Œä½¿ç”¨

```python
from main_engine import get_dap_engine

# è·å–å¼•æ“å®ä¾‹
engine = get_dap_engine()

# å¤„ç†æ•°æ®æ–‡ä»¶
result = engine.process('data.xlsx')

# å¯¼å‡ºæ•°æ®
export_result = engine.export_data('table_name', 'excel')

# AIåˆ†æ
ai_result = engine.analyze_with_ai("åˆ†æè´¢åŠ¡é£é™©", "table_name")

# ç”ŸæˆæŠ¥å‘Š
report_result = engine.generate_audit_report("å…¬å¸å", "2024å¹´åº¦")
```

### APIç¼–ç¨‹

```python
import requests

base_url = "http://127.0.0.1:8000"

# è·å–ç³»ç»Ÿä¿¡æ¯
response = requests.get(f"{base_url}/api/info")
print(response.json())

# æŸ¥è¯¢æ•°æ®
response = requests.get(f"{base_url}/api/data/table_name")
data = response.json()

# æ‰§è¡Œåˆ†æ
analysis_request = {
    "analysis_type": "financial_summary",
    "company_id": "company_001"
}
response = requests.post(f"{base_url}/api/analyze", json=analysis_request)
```

## ğŸ› ï¸ æ€§èƒ½ä¼˜åŒ–

### å¤„ç†å¤§æ•°æ®é›†

- ä½¿ç”¨åˆ†å—å¤„ç†ï¼šå•æ¬¡å¤„ç†é™åˆ¶åœ¨1GBä»¥å†…
- å¯ç”¨å¹¶è¡Œå¤„ç†ï¼šé…ç½® `parallel_workers` å‚æ•°
- å†…å­˜ä¼˜åŒ–ï¼šä½¿ç”¨åˆ—å¼å­˜å‚¨å’Œæ•°æ®å‹ç¼©

### æ€§èƒ½ç›‘æ§

- æŸ¥çœ‹å¤„ç†æ—¥å¿—ï¼š`logs/dap.log`
- ç›‘æ§å†…å­˜ä½¿ç”¨ï¼šä»»åŠ¡ç®¡ç†å™¨
- APIæ€§èƒ½ï¼šè®¿é—® `/api/stats` ç«¯ç‚¹

## ğŸ“ˆ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æ•°æ®æº

1. åœ¨ `layer1/data_ingestor.py` ä¸­æ·»åŠ æ–°çš„å¤„ç†å™¨
2. å®ç° `process()` æ–¹æ³•
3. æ³¨å†Œåˆ° `handlers` å­—å…¸

### è‡ªå®šä¹‰å®¡è®¡è§„åˆ™

1. ç¼–è¾‘ `config/audit_rules.yaml`
2. å®šä¹‰æ–°çš„è§„åˆ™ç±»å‹å’Œæ¡ä»¶
3. é‡å¯ç³»ç»Ÿåº”ç”¨æ–°è§„åˆ™

### é›†æˆæ–°çš„AIæœåŠ¡

1. åœ¨ `layer3/agent_bridge.py` ä¸­æ·»åŠ æ–°çš„å®¢æˆ·ç«¯
2. å®ç° `AIClient` æ¥å£
3. æ³¨å†Œåˆ° `ai_clients` å­—å…¸

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: å®‰è£…ä¾èµ–å¤±è´¥**
```bash
# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

**Q: å›¾å½¢ç•Œé¢æ— æ³•å¯åŠ¨**
```bash
# è§£å†³æ–¹æ¡ˆï¼šå®‰è£…tkinterdnd2
pip install tkinterdnd2
```

**Q: APIæœåŠ¡ç«¯å£è¢«å ç”¨**
```bash
# è§£å†³æ–¹æ¡ˆï¼šæ›´æ”¹ç«¯å£
python -c "from layer3.api_server import start_api_server; start_api_server(port=8001)"
```

**Q: æ•°æ®åº“é”å®šé”™è¯¯**
```bash
# è§£å†³æ–¹æ¡ˆï¼šå…³é—­æ‰€æœ‰DAPè¿›ç¨‹ï¼Œåˆ é™¤æ•°æ®åº“é”æ–‡ä»¶
del data\dap_data.db-wal
del data\dap_data.db-shm
```

### æ—¥å¿—åˆ†æ

- ç³»ç»Ÿæ—¥å¿—ï¼š`logs/dap.log`
- å®¡è®¡è§„åˆ™æ—¥å¿—ï¼š`logs/audit_rules.log`
- APIè®¿é—®æ—¥å¿—ï¼šæ§åˆ¶å°è¾“å‡º

## â˜ï¸ GitHub è‡ªåŠ¨å¤‡ä»½

ç³»ç»Ÿç°å·²æ”¯æŒå°†æŒ‡å®šç›®å½•çš„è¿è¡Œæˆæœè‡ªåŠ¨æ‰“åŒ…å¹¶ä¸Šä¼ è‡³ GitHub ä»“åº“ï¼Œç”¨äºäº‘ç«¯å¤‡ä»½æˆ–å¤šç«¯ååŒã€‚å¯ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š

- åœ¨è¿è¡Œç¯å¢ƒä¸­è®¾ç½® `DAP_GITHUB_BACKUP_ENABLED=true`
- æä¾›ç›®æ ‡ä»“åº“ `DAP_GITHUB_BACKUP_REPO=org/project` ä»¥åŠè®¿é—®ä»¤ç‰Œ `DAP_GITHUB_TOKEN`
- å¯é€‰å‚æ•°ï¼š
  - `DAP_GITHUB_BACKUP_BRANCH`ï¼šæäº¤åˆ†æ”¯ï¼Œé»˜è®¤ä¸º `main`
  - `DAP_GITHUB_BACKUP_PATHS`ï¼šåˆ†å·æˆ–é€—å·åˆ†éš”çš„å¤‡ä»½ç›®å½•ï¼Œé»˜è®¤ä¸º `data;exports`
  - `DAP_GITHUB_BACKUP_INTERVAL_MINUTES`ï¼šå®šæ—¶å¤‡ä»½é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  - `DAP_GITHUB_BACKUP_COMMIT_MESSAGE`ï¼šæäº¤æ¶ˆæ¯æ¨¡æ¿ï¼Œæ”¯æŒ `{timestamp}`ã€`{files}`ã€`{trigger}`
- é¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å¼€å¯å¤‡ä»½çº¿ç¨‹å¹¶ç«‹å³æ‰§è¡Œä¸€æ¬¡å¤‡ä»½ï¼›åœ¨æ‰§è¡Œ `process()` æˆ– `import_data_file()` ç­‰ä¿®æ”¹æ•°æ®å‰ä¹Ÿä¼šè‡ªåŠ¨è§¦å‘ä¸€æ¬¡å¤‡ä»½ï¼Œç¡®ä¿æ“ä½œå¯è¿½æº¯
- è¿è¡Œæ—¶å¯é€šè¿‡ `EnhancedDAPEngine.trigger_github_backup()` ç«‹å³è§¦å‘å¤‡ä»½ï¼Œå¹¶åœ¨å¼•æ“å…³é—­æ—¶è‡ªåŠ¨é‡Šæ”¾åå°ä»»åŠ¡

> âš ï¸ GitHub è®¿é—®ä»¤ç‰Œä»…éœ€ `repo` èŒƒå›´æƒé™ï¼Œè¯·ä»¥ç¯å¢ƒå˜é‡æ–¹å¼å®‰å…¨æ³¨å…¥ï¼Œé¿å…å†™å…¥é…ç½®æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ¯ è·¯çº¿å›¾

### v1.1 (è®¡åˆ’ä¸­)
- [ ] æ”¯æŒæ›´å¤šæ•°æ®åº“ç±»å‹ (PostgreSQL, MySQL)
- [ ] å¢å¼ºAIåˆ†æèƒ½åŠ›
- [ ] æ·»åŠ å®æ—¶æ•°æ®ç›‘æ§
- [ ] ä¼˜åŒ–å¤§æ•°æ®å¤„ç†æ€§èƒ½

### v1.2 (è§„åˆ’ä¸­) 
- [ ] åˆ†å¸ƒå¼å¤„ç†æ”¯æŒ
- [ ] äº‘æœåŠ¡é›†æˆ
- [ ] ç§»åŠ¨ç«¯æ”¯æŒ
- [ ] å¤šè¯­è¨€ç•Œé¢

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µï¼š[GitHub Repository](https://github.com/your-repo/DAP)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/your-repo/DAP/issues)
- æŠ€æœ¯æ–‡æ¡£ï¼š[Wiki](https://github.com/your-repo/DAP/wiki)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºDAPé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œä½¿ç”¨è€…ï¼

---

**DAP - Data Processing & Auditing Intelligence Agent**  
*è®©æ•°æ®å¤„ç†æ›´æ™ºèƒ½ï¼Œè®©å®¡è®¡åˆ†ææ›´é«˜æ•ˆ*
