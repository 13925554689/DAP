# DAP 一键启动功能说明

## 🚀 完整的一键启动功能已具备！

DAP系统提供了完整的一键启动功能，支持多种启动模式和场景。

## 📋 可用的启动脚本

### 🎯 主启动脚本
- **`start_all.bat`** - **主启动脚本**（推荐）
  - 提供交互式菜单选择启动模式
  - 支持一键启动所有服务
  - 自动打开浏览器访问API文档

### 🔧 单独启动脚本
- **`start_gui.bat`** - 启动图形用户界面
- **`start_ai_agent.bat`** - 启动AI审计智能体（交互模式）
- **`start_api.bat`** - 启动增强型API服务器
- **`start_monitor.bat`** - 启动性能监控仪表板
- **`start_learning.bat`** - 启动AI自学习系统
- **`start_cli.bat`** - 启动命令行开发模式

### 🛠️ 管理脚本
- **`check_status.bat`** - 系统状态检查
- **`stop_all.bat`** - 停止所有服务
- **`install.bat`** - 环境安装和配置

## 🎮 使用方法

### 方法一：智能启动（推荐）
```batch
# 双击运行主启动脚本
start_all.bat

# 然后选择启动模式：
# 1. GUI模式 - 图形界面（用户友好）
# 2. AI智能体 - 自然语言交互
# 3. API服务器 - 开发者接口
# 4. 性能监控 - 系统监控
# 5. AI学习 - 模型训练
# 6. CLI模式 - 命令行开发
# 7. 全部服务 - 同时启动多个服务
```

### 方法二：直接启动特定服务
```batch
# 启动GUI界面
start_gui.bat

# 启动AI智能体
start_ai_agent.bat

# 启动API服务器
start_api.bat

# 启动性能监控
start_monitor.bat

# 启动AI学习系统
start_learning.bat
```

### 方法三：系统管理
```batch
# 检查系统状态
check_status.bat

# 停止所有服务
stop_all.bat
```

## 🌐 服务端点

当服务启动后，可以通过以下地址访问：

### API服务器 (start_api.bat)
- **主API**: http://127.0.0.1:8000
- **API文档**: http://127.0.0.1:8000/docs
- **健康检查**: http://127.0.0.1:8000/health
- **系统信息**: http://127.0.0.1:8000/api/v2/info

### 性能监控 (start_monitor.bat)
- **监控仪表板**: http://127.0.0.1:8080
- **实时指标**: http://127.0.0.1:8080/metrics
- **性能报告**: http://127.0.0.1:8080/report

## 🎯 典型使用场景

### 场景1：审计人员日常使用
```batch
# 启动GUI模式，使用图形界面进行审计工作
start_gui.bat
```

### 场景2：与AI智能体对话
```batch
# 启动AI智能体，进行自然语言审计查询
start_ai_agent.bat

# 然后可以输入查询，例如：
# "分析公司2023年财务状况"
# "检测异常交易记录"
# "生成年度审计报告"
```

### 场景3：开发者API调用
```batch
# 启动API服务器，通过编程接口使用DAP功能
start_api.bat

# API示例：
# GET http://127.0.0.1:8000/api/v2/companies
# POST http://127.0.0.1:8000/api/v2/ai/query
```

### 场景4：系统管理员监控
```batch
# 启动性能监控，监控系统运行状态
start_monitor.bat

# 查看系统状态
check_status.bat
```

### 场景5：完整系统部署
```batch
# 启动所有服务，提供完整功能
start_all.bat
# 选择 "7. Start All Services"
```

## ⚙️ 高级配置

### 自定义端口
可以在启动脚本中修改端口配置：
- API服务器默认端口：8000
- 性能监控默认端口：8080

### 服务组合启动
`start_all.bat` 脚本支持同时启动多个服务：
- Enhanced API Server (端口 8000)
- Performance Monitor (端口 8080)
- AI Learning System (后台)

## 🔧 故障排除

### 常见问题

1. **虚拟环境未找到**
   ```batch
   # 解决方法：首先运行安装脚本
   install.bat
   ```

2. **端口被占用**
   ```batch
   # 检查端口状态
   netstat -an | findstr ":8000"
   netstat -an | findstr ":8080"

   # 或运行状态检查
   check_status.bat
   ```

3. **Python依赖缺失**
   ```batch
   # 检查系统状态
   check_status.bat

   # 重新安装依赖
   install.bat
   ```

4. **服务无法停止**
   ```batch
   # 强制停止所有服务
   stop_all.bat
   ```

### 系统要求检查
运行 `check_status.bat` 可以检查：
- ✅ 虚拟环境状态
- ✅ Python模块可用性
- ✅ 网络端口状态
- ✅ 目录结构完整性
- ✅ 启动脚本可用性

## 🎉 功能特点

### 一键启动优势
1. **零配置启动** - 无需手动配置，一键即用
2. **智能菜单** - 交互式选择启动模式
3. **服务编排** - 自动管理服务依赖和启动顺序
4. **状态监控** - 实时显示服务运行状态
5. **错误处理** - 友好的错误提示和解决建议
6. **多模式支持** - GUI、CLI、API、监控多种模式
7. **便捷管理** - 一键启动、停止、状态检查

### 技术特点
1. **并行启动** - 支持多服务并行启动
2. **端口检测** - 自动检测端口占用情况
3. **环境验证** - 启动前自动验证运行环境
4. **浏览器集成** - 自动打开相关页面
5. **进程管理** - 完善的进程启动和停止管理

## 🚀 总结

DAP系统的一键启动功能已经**完全具备**，提供了：

✅ **10个启动脚本** - 覆盖所有使用场景
✅ **智能启动菜单** - 用户友好的交互选择
✅ **多服务编排** - 支持并行启动多个服务
✅ **完善的管理** - 启动、停止、状态检查一应俱全
✅ **零配置使用** - 双击即用，无需复杂配置

用户只需要双击 `start_all.bat` 即可开始使用DAP系统的所有功能！